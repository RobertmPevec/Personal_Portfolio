<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- Favicon --><link rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><meta name="generator" content="Astro v5.1.7"><!-- Primary Meta Tags --><link rel="canonical" href="https://robertpevec.com/clipgenius/"><title>Blog - Robert Pevec</title><meta name="title" content="Blog - Robert Pevec"><meta name="description" content="Update Blog posts on this page"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://robertpevec.com/clipgenius/"><meta property="og:title" content="Blog - Robert Pevec"><meta property="og:description" content="Update Blog posts on this page"><meta property="og:image" content="https://robertpevec.com/assets/images/profile.png"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://robertpevec.com/clipgenius/"><meta property="twitter:title" content="Blog - Robert Pevec"><meta property="twitter:description" content="Update Blog posts on this page"><meta property="twitter:image" content="https://robertpevec.com/assets/images/profile.png"><!-- preload assests --><link rel="preload" href="/assets/fonts/Inter/Inter-Light.ttf" as="font" crossorigin><link rel="preload" href="/assets/fonts/Outfit/Outfit-SemiBold.ttf" as="font" crossorigin><link rel="stylesheet" href="/_astro/betterweb.BdqCzkMg.css">
<style>img{width:100%;height:21rem}#heading{font-size:2rem;margin-bottom:2rem;margin-top:2rem}#datetime{font-size:1.25rem;margin-bottom:1rem;margin-top:1rem}p{margin-bottom:3rem}
</style></head> <body class="bg-light dark:bg-dark text-black dark:text-white"> <!-- Canvas Background --> <!-- Main Content --> <header class="container flex items-center justify-between h-[80px] sm:h-[123px]"> <a class="text-2xl dark:text-light font-semibold dark:font-semibold font-outfit" href="/">RP.
</a> <nav> <ul class="flex items-center"> <li> <a class="p-4 dark:text-light block text-lg" href="/projects">Projects</a> </li> <li> <a class="p-4 dark:text-light block text-lg" href="/blog">Blog</a> </li> <li> <a class="p-4 dark:text-light block text-lg" href="/contact">Contact</a> </li> <li> <button aria-label="theme-button" id="theme-button" class="dark:text-light rounded-lg p-4 ml-2 bg-slate-100 dark:bg-[#202020]"></button> </li> </ul> </nav> </header> <script>
  const moon = `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>`;
  const sun = `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>`;
  const themeButton = document.getElementById("theme-button");
  const browserTheme = document.querySelector('[name="theme-color"]');
  let isDark;
  const theme = (() => {
    if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {
      return localStorage.getItem("theme");
    }
    if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
      return "dark";
    }
    return "light";
  })();

  if (theme === "light") {
    document.documentElement.setAttribute("data-theme", "light");
    isDark = true;
    themeButton.innerHTML = sun;
    browserTheme.content = "#FFFFFF";
  } else {
    document.documentElement.setAttribute("data-theme", "dark");
    isDark = false;
    themeButton.innerHTML = moon;
    browserTheme.content = "#111111";
  }
  window.localStorage.setItem("theme", theme);

  const darkModeHandler = () => {
    if (isDark) {
      document.documentElement.setAttribute("data-theme", "dark");
      localStorage.theme = "dark";
      isDark = false;
      themeButton.innerHTML = moon;
      browserTheme.content = "#111111";
    } else {
      document.documentElement.setAttribute("data-theme", "light");
      localStorage.theme = "light";
      isDark = true;
      themeButton.innerHTML = sun;
      browserTheme.content = "#FFFFFF";
    }
  };

  themeButton.addEventListener("click", darkModeHandler);
</script> <main class="container">  <section> <h1>Clip Genius: ML Sports Highlight Generator</h1> <p class="block font-medium text-black dark:text-white">
Clip Genius is an advanced Machine Learning tool that processes sports videos to automatically detect score changes
                and generate highlight clips. Developed during Datathon hosted by Google Waterloo, this project integrates FAISS-based similarity search,
                Computer Vision (OpenCV), and Multi-threaded Video Processing to streamline sports content creation. Veiw it on github <a href="https://github.com/RobertmPevec/Clip_Genius" style="color: red;" target="_blank">here.</a> </p> <h2 style="margin-bottom: 20px;">Final Output:</h2> <video width="1200" autoplay muted autoplay loop> <source src="/_astro/finaloutput.CNh2wWvs.mp4" type="video/mp4"> </video> </section> <section> <h2 style="margin-top: 40px;">Faiss & Transcription Process:</h2> <h3 style="font-size:larger;">How it works:</h3> <h3 style="font-size: larger; margin-top: 20px;">1. Extract Audio</h3> <ul> <li class="block font-medium text-black dark:text-white">Extracts the audio from an MP4 video file and saves it as a WAV file.</li> <li class="block font-medium text-black dark:text-white">Uses FFmpeg to convert the audio to 16kHz mono PCM WAV, ideal for speech recognition.</li> </ul> <h3 style="font-size: larger; margin-top: 20px;">2. Split Audio</h3> <ul> <li class="block font-medium text-black dark:text-white">Breaks the extracted WAV file into 30-second chunks, with an additional 5-second buffer.</li> <li class="block font-medium text-black dark:text-white">Saves each chunk separately in the clips folder for easier processing.</li> </ul> <h3 style="font-size: larger; margin-top: 20px;">3. Process File</h3> <ul> <li class="block font-medium text-black dark:text-white">Transcribes each audio chunk using NeMo ASR.</li> <li class="block font-medium text-black dark:text-white">Converts the transcript into a vector representation using MiniLM.</li> <li class="block font-medium text-black dark:text-white">Ranks clips by similarity to key moments using FAISS.</li> </ul> <h3 style="font-size: larger; margin-top: 20px;">4. Transcribe & Filter</h3> <ul> <li class="block font-medium text-black dark:text-white">Runs the process in parallel (multi-threaded) for efficiency.</li> <li class="block font-medium text-black dark:text-white">Sorts clips by highest relevance to game highlights.</li> <li class="block font-medium text-black dark:text-white">Keeps only the top 40% of relevant clips.</li> </ul> <h3 style="font-size: larger; margin-top: 20px;">5. Merge Clips</h3> <ul> <li class="block font-medium text-black dark:text-white">Combines all highlight clips into one final merged video.</li> <li class="block font-medium text-black dark:text-white">Uses FFmpeg to concatenate clips in the correct order.</li> <li class="block font-medium text-black dark:text-white">Deletes temporary clips after merging to save space.</li> </ul> </section> <section> <!-- AWS please compile! --> <!-- AWS please compile! --> <h2 style="margin-top: 40px;">OpenCV Scoreboard Detection:</h2> <h3 style="font-size:larger;">How it works:</h3> <p class="block font-medium text-black dark:text-white">The video processing pipeline uses OpenCV, PyTesseract, and FFmpeg to efficiently analyze frames. It starts by opening the video with cv.VideoCapture, resizing frames to 512x512, and detecting the scoreboard using edge detection and Hough Line Transform. Once located, the scoreboard region is extracted, and OCR processes it to recognize scores with a confidence threshold of 75. The detected scores are converted to absolute coordinates, overlaid onto the video, and a timestamp is added.</p> <p class="block font-medium text-black dark:text-white">To optimize performance, only necessary pixels are processed, reducing computational load. OCR extracts numeric scores by cropping and preprocessing the scoreboard area‚Äîconverting it to grayscale, resizing, and denoising. It then filters non-numeric text, returning a score or zero if no digits are found. This automated approach ensures accurate score tracking and highlight generation.</p> <video width="1200" autoplay muted autoplay loop> <source src="/_astro/abc.kOWpCvza.mp4" type="video/mp4"> </video> <ul> <li class="block font-medium text-black dark:text-white" style="margin-top: 40px;"><strong>fetch_score_coords(filepath):</strong> Fetches the coordinates of the scoreboard.</li> <li class="block font-medium text-black dark:text-white"><strong>split_video(filepath, SEGMENT_SIZE, tempfulder, "segments_%03d.mp4"):</strong> Splits the video into smaller segments for parallel processing.</li> <li class="block font-medium text-black dark:text-white"><strong>analyze_segments_with_threads(tempfulder, cords):</strong> Analyzes the video segments concurrently using multiple threads.</li> <li class="block font-medium text-black dark:text-white"><strong>sorted(results):</strong> Sorts the results from all threads.</li> <li class="block font-medium text-black dark:text-white"><strong>process_results(filepath, results):</strong> Processes the results. Returns contrul to the script.</li> </ul> </section> <section> <h2 style="margin-top: 40px;">User Interface</h2> <p class="block font-medium text-black dark:text-white" style="margin-top: 20px;">The frontend of Clip Genius is built using PyQt5, providing a sleek and interactive GUI for users to generate AI-powered sports highlights. It simplifies the complex backend processing into an intuitive interface where users can:</p> <img src="/assets/images/frontend.png" alt="Frontend" style="max-width: 1200px;"> <ul> <li class="block font-medium text-black dark:text-white" style="margin-top: 20px;"><strong>‚Ä¢</strong> Upload a sports video for analysis.</li> <li class="block font-medium text-black dark:text-white"><strong>‚Ä¢</strong> Select highlight duration (e.g., 1, 5, or 10 minutes).</li> <li class="block font-medium text-black dark:text-white"><strong>‚Ä¢</strong> Choose transcript options (e.g., English, French, or Spanish).</li> <li class="block font-medium text-black dark:text-white"><strong>‚Ä¢</strong> Generate highlights with a single click and return MP4</li> </ul> </section> <section> <h2 style="margin-top: 40px;">Technologies Used</h2> <p class="block font-medium text-black dark:text-white">
Our ML video processing system utilizes the following key technologies:
</p> <ul> <li class="block font-medium text-black dark:text-white"><strong>FAISS</strong> - Fast similarity search for detecting key game moments.</li> <li class="block font-medium text-black dark:text-white"><strong>OpenCV</strong> - Real-time scoreboard and object detection.</li> <li class="block font-medium text-black dark:text-white"><strong>pytesseract</strong> - OCR for extracting numeric scores from images.</li> <li class="block font-medium text-black dark:text-white"><strong>FFmpeg</strong> - Video processing and clip generation.</li> <li class="block font-medium text-black dark:text-white"><strong>Python Multiprocessing</strong> - Efficiently processes video segments in parallel.</li> <li class="block font-medium text-black dark:text-white"><strong>PyQt5</strong> - GUI framework for building an interactive and user-friendly application.</li> </ul> </section> <section> <h2 style="margin-top: 40px;">Acknowledgments</h2> <p class="block font-medium text-black dark:text-white">
We extend our gratitude to <strong>Laurier Analytics</strong> and <strong>Google Waterloo</strong> for
                organizing the datathon, providing mentorship, and fostering innovation in AI and data science.<br>
Also shout out to the GOAT <a href="https://www.linkedin.com/in/shivamgarg--/" style="color: red;" target="_blank">Shavam Garg üêê</a> </p> <p class="block font-medium text-black dark:text-white"><em>Contributors:</em> Robert Pevec, <a href="https://jashandeep.co.uk/" style="color: red;" target="_blank">JD</a>, <a href="https://www.linkedin.com/in/sawaabanas/" style="color: red;" target="_blank">Swaab Anas</a>, <a href="https://www.instagram.com/suhaana.wav/?hl=en" style="color: red;" target="_blank">Suhana Khullar</a></p> <p class="block font-medium text-black dark:text-white">Source Code: <a href="https://github.com/RobertmPevec/Clip_Genius" target="_blank" style="color: red;">GitHub Repository</a></p> </section>  </main> <footer class="container flex sm:flex-row flex-col justify-between items-center mb-8 sm:mb-4"> <p class="dark:text-light text-right my-8">
Developed by <strong>Robert Pevec</strong> </p> <div class="grid grid-cols-3 gap-4"> <a aria-label="Social Media" href="https://github.com/RobertmPevec" target="_blank" class="footer-icons"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path> </svg> </a> <a aria-label="Social Media" href="https://www.linkedin.com/in/robert-pevec/" target="_blank" class="footer-icons"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-linkedin"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle> </svg> </a> <a aria-label="Social Media" href="mailto:contact@robert-pevec.com" target="_blank" class="footer-icons"> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline> </svg> </a> </div> </footer> <canvas id="starry-background"></canvas> <!-- Scripts --> <script src="/starry-background-js.js" defer></script> <script type="module">document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("progressbar");function e(){const n=window.scrollY||document.documentElement.scrollTop,o=document.documentElement.scrollHeight-document.documentElement.clientHeight,s=n/o*100;t.style.height=s+"%"}window.addEventListener("scroll",e),window.addEventListener("resize",e),e()});</script> </body> </html>